(this.webpackJsonpletmeask=this.webpackJsonpletmeask||[]).push([[0],{48:function(e,t,n){},66:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var r=n(7),a=n.n(r),c=n(49),i=n.n(c),s=n(14),o=n(29),u=n(15),l=n(0),d=n.n(l),j=n(2),h=n(35);n(64),n(78);h.a.initializeApp({apiKey:"AIzaSyCTRmZPQMGBA6jA0jZgDXuXBrKHUpmNrLA",authDomain:"letmeask-now.firebaseapp.com",databaseURL:"https://letmeask-now-default-rtdb.firebaseio.com",projectId:"letmeask-now",storageBucket:"letmeask-now.appspot.com",messagingSenderId:"16236789043",appId:"1:16236789043:web:b0f01c31af8d98a72a9246"});var b=h.a.auth(),p=h.a.database(),m=n.p+"static/media/illustration.8aeb45a4.svg",f=n.p+"static/media/logo.3cce2a2f.svg",x=n.p+"static/media/google-icon.0dd78068.svg",O=n(50),g=n(58),v=(n(66),n(6));function k(e){var t=e.isOutlined,n=void 0!==t&&t,r=Object(g.a)(e,["isOutlined"]);return Object(v.jsx)("button",Object(O.a)({className:"button ".concat(n?"outlined":"")},r))}var w=Object(r.createContext)({});function y(e){var t=Object(r.useState)(),n=Object(s.a)(t,2),a=n[0],c=n[1];function i(){return(i=Object(j.a)(d.a.mark((function e(){var t,n,r,a,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new h.a.auth.GoogleAuthProvider,e.next=3,b.signInWithPopup(t);case 3:if(!(n=e.sent).user){e.next=9;break}if(r=n.user,a=r.displayName,i=r.photoURL,s=r.uid,a&&i){e.next=8;break}throw new Error("Missing information from Google account.");case 8:c({id:s,name:a,avatar:i});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){var e=b.onAuthStateChanged((function(e){if(e){var t=e.displayName,n=e.photoURL,r=e.uid;if(!t||!n)throw new Error("Missing information from Google account.");c({id:r,name:t,avatar:n})}}));return function(){e()}}),[]),Object(v.jsx)(w.Provider,{value:{user:a,signInWithGoogle:function(){return i.apply(this,arguments)}},children:e.children})}function C(){return Object(r.useContext)(w)}function N(){var e=Object(u.f)(),t=C(),n=t.user,a=t.signInWithGoogle,c=Object(r.useState)(""),i=Object(s.a)(c,2),o=i[0],l=i[1];function h(){return(h=Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=3;break}return t.next=3,a();case 3:e.push("./rooms/new");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(){return(b=Object(j.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),""!==o.trim()){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,p.ref("rooms/".concat(o)).get();case 5:if((r=t.sent).exists()){t.next=9;break}return alert("Room does not exists."),t.abrupt("return");case 9:if(!r.val().endedAt){t.next=12;break}return alert("Room already closed."),t.abrupt("return");case 12:e.push("rooms/".concat(o));case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(v.jsxs)("div",{id:"page-auth",children:[Object(v.jsxs)("aside",{children:[Object(v.jsx)("img",{src:m,alt:"Illustration symbolizing asking and questions"}),Object(v.jsx)("strong",{children:"Crie salas de Q&A ao-vivo"}),Object(v.jsx)("p",{children:"Tire as d\xfavidas de sua audi\xeancia em tempo-real"})]}),Object(v.jsx)("main",{children:Object(v.jsxs)("div",{className:"main-content",children:[Object(v.jsx)("img",{src:f,alt:"Letmeask"}),Object(v.jsxs)("button",{onClick:function(){return h.apply(this,arguments)},className:"create-room",children:[Object(v.jsx)("img",{src:x,alt:"Logo do Google"}),"Crie sua sala com o Google"]}),Object(v.jsx)("div",{className:"separator",children:"Ou entre em uma sala"}),Object(v.jsxs)("form",{onSubmit:function(e){return b.apply(this,arguments)},children:[Object(v.jsx)("input",{type:"text",placeholder:"Digite o c\xf3digo da sala",onChange:function(e){return l(e.target.value)},value:o}),Object(v.jsx)(k,{type:"submit",children:"Entrar na sala"})]})]})})]})}n(72);function q(){var e=C().user,t=Object(u.f)(),n=Object(r.useState)(""),a=Object(s.a)(n,2),c=a[0],i=a[1];function l(){return(l=Object(j.a)(d.a.mark((function n(r){var a,i;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),a=p.ref("rooms"),n.next=4,a.push({title:c,authorId:null===e||void 0===e?void 0:e.id});case 4:i=n.sent,t.push("/rooms/".concat(i.key));case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(v.jsxs)("div",{id:"page-auth",children:[Object(v.jsxs)("aside",{children:[Object(v.jsx)("img",{src:m,alt:"Illustration symbolizing asking and questions"}),Object(v.jsx)("strong",{children:"Crie salas de Q&A ao-vivo"}),Object(v.jsx)("p",{children:"Tire as d\xfavidas de sua audi\xeancia em tempo-real"})]}),Object(v.jsx)("main",{children:Object(v.jsxs)("div",{className:"main-content",children:[Object(v.jsx)("img",{src:f,alt:"Letmeask"}),Object(v.jsx)("h2",{children:"Criar uma nova sala"}),Object(v.jsxs)("form",{onSubmit:function(e){return l.apply(this,arguments)},children:[Object(v.jsx)("input",{type:"text",placeholder:"Nome da sala",onChange:function(e){return i(e.target.value)},value:c}),Object(v.jsx)(k,{type:"submit",children:"Criar sala"})]}),Object(v.jsxs)("p",{children:["Quer entrar em uma sala existente? ",Object(v.jsx)(o.b,{to:"/",children:"Clique aqui"})]})]})})]})}n(73);var A=n(52),S=n.n(A);function I(e){var t=e.content,n=e.author,r=e.isAnswered,a=void 0!==r&&r,c=e.isHighlighted,i=void 0!==c&&c,s=e.children;return Object(v.jsxs)("div",{className:S()("question",{answered:a},{highlighted:i&&!a}),children:[Object(v.jsx)("p",{children:t}),Object(v.jsxs)("footer",{children:[Object(v.jsxs)("div",{className:"user-info",children:[Object(v.jsx)("img",{src:n.avatar,alt:n.name}),Object(v.jsx)("span",{children:n.name})]}),Object(v.jsx)("div",{children:s})]})]})}var H=n.p+"static/media/copy.b8f09a77.svg",L=n(46);n(74);function D(e){return Object(v.jsxs)("div",{children:[Object(v.jsxs)("button",{className:"room-code",onClick:function(){navigator.clipboard.writeText(e.code),L.b.success("Successfully copied!",{style:{color:"#11111"},iconTheme:{primary:"#a15afd",secondary:"#FFF"}})},children:[Object(v.jsx)("div",{children:Object(v.jsx)("img",{src:H,alt:"Copy room code"})}),Object(v.jsxs)("span",{children:["Sala #",e.code]})]}),Object(v.jsx)(L.a,{})]})}function E(e){var t=C().user,n=Object(r.useState)(""),a=Object(s.a)(n,2),c=a[0],i=a[1],o=Object(r.useState)([]),u=Object(s.a)(o,2),l=u[0],d=u[1];return Object(r.useEffect)((function(){var n=p.ref("rooms/".concat(e));return n.on("value",(function(e){var n,r=e.val(),a=null!==(n=r.questions)&&void 0!==n?n:{},c=Object.entries(a).map((function(e){var n,r,a,c=Object(s.a)(e,2),i=c[0],o=c[1];return{id:i,content:o.content,author:o.author,isHighlighted:o.isHighlighted,isAnswered:o.isAnswered,likeCount:Object.values(null!==(n=o.likes)&&void 0!==n?n:{}).length,likeId:null===(r=Object.entries(null!==(a=o.likes)&&void 0!==a?a:{}).find((function(e){var n=Object(s.a)(e,2);n[0];return n[1].authorId===(null===t||void 0===t?void 0:t.id)})))||void 0===r?void 0:r[0]}}));i(r.title),d(c)})),function(){n.off("value")}}),[e,null===t||void 0===t?void 0:t.id]),{questions:l,title:c}}n(48);function G(){var e=Object(u.f)(),t=C().user,n=Object(u.g)(),a=Object(r.useState)(""),c=Object(s.a)(a,2),i=c[0],o=c[1],l=n.id,h=E(l),b=h.questions,m=h.title;function x(){return(x=Object(j.a)(d.a.mark((function e(n,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=5;break}return e.next=3,p.ref("rooms/".concat(l,"/questions/").concat(n,"/likes/").concat(r)).remove();case 3:e.next=7;break;case 5:return e.next=7,p.ref("rooms/".concat(l,"/questions/").concat(n,"/likes")).push({authorId:null===t||void 0===t?void 0:t.id});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(j.a)(d.a.mark((function e(n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==i.trim()){e.next=3;break}return e.abrupt("return");case 3:if(t){e.next=5;break}throw new Error("You must be logged in.");case 5:return r={content:i,author:{name:t.name,avatar:t.avatar},isHighlighted:!1,isAnswered:!1},e.next=8,p.ref("rooms/".concat(l,"/questions")).push(r);case 8:o("");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(v.jsxs)("div",{id:"page-room",children:[Object(v.jsx)("header",{children:Object(v.jsxs)("div",{className:"content",children:[Object(v.jsx)("img",{src:f,onClick:function(){return e.push("/")},alt:"letmeask"}),Object(v.jsx)(D,{code:l})]})}),Object(v.jsxs)("main",{children:[Object(v.jsxs)("div",{className:"room-title",children:[Object(v.jsxs)("h1",{children:["Sala ",m]}),b.length>0&&Object(v.jsxs)("span",{children:[b.length," pergunta(s)"]})]}),Object(v.jsxs)("form",{onSubmit:function(e){return O.apply(this,arguments)},children:[Object(v.jsx)("textarea",{placeholder:"O que voc\xea quer perguntar?",onChange:function(e){return o(e.target.value)},value:i}),Object(v.jsxs)("div",{className:"form-footer",children:[t?Object(v.jsxs)("div",{className:"user-info",children:[Object(v.jsx)("img",{src:t.avatar,alt:t.name}),Object(v.jsx)("span",{children:t.name})]}):Object(v.jsxs)("span",{children:["Para enviar uma pergunta, ",Object(v.jsx)("button",{children:"fa\xe7a seu login"}),"."]}),Object(v.jsx)(k,{type:"submit",disabled:!t,children:"Enviar pergunta"})]})]}),Object(v.jsx)("div",{className:"question-list",children:b.map((function(e){return Object(v.jsx)(I,{content:e.content,author:e.author,isAnswered:e.isAnswered,isHighlighted:e.isHighlighted,children:!e.isAnswered&&Object(v.jsxs)("button",{className:"like-button ".concat(e.likeId?"liked":""),type:"button","aria-label":"Marcar como gostei",onClick:function(){return function(e,t){return x.apply(this,arguments)}(e.id,e.likeId)},children:[e.likeCount>0&&Object(v.jsx)("span",{children:e.likeCount}),Object(v.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(v.jsx)("path",{d:"M7 22H4C3.46957 22 2.96086 21.7893 2.58579 21.4142C2.21071 21.0391 2 20.5304 2 20V13C2 12.4696 2.21071 11.9609 2.58579 11.5858C2.96086 11.2107 3.46957 11 4 11H7M14 9V5C14 4.20435 13.6839 3.44129 13.1213 2.87868C12.5587 2.31607 11.7956 2 11 2L7 11V22H18.28C18.7623 22.0055 19.2304 21.8364 19.5979 21.524C19.9654 21.2116 20.2077 20.7769 20.28 20.3L21.66 11.3C21.7035 11.0134 21.6842 10.7207 21.6033 10.4423C21.5225 10.1638 21.3821 9.90629 21.1919 9.68751C21.0016 9.46873 20.7661 9.29393 20.5016 9.17522C20.2371 9.0565 19.9499 8.99672 19.66 9H14Z",stroke:"#737380",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})},e.id)}))})]})]})}var M=n.p+"static/media/delete.a8f66609.svg",T=n.p+"static/media/check.8308dd4d.svg",z=n.p+"static/media/answer.16004e01.svg";function R(){var e=Object(u.f)(),t=Object(u.g)().id,n=E(t),r=n.questions,a=n.title;function c(){return(c=Object(j.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.ref("rooms/".concat(t)).update({endedAt:new Date});case 2:e.push("/");case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function i(){return(i=Object(j.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Tem certeza que voc\xea quer excluir essa pergunta?")){e.next=3;break}return e.next=3,p.ref("rooms/".concat(t,"/questions/").concat(n)).remove();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=Object(j.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.ref("rooms/".concat(t,"/questions/").concat(n)).update({isAnswered:!0});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(){return(o=Object(j.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.ref("rooms/".concat(t,"/questions/").concat(n)).update({isHighlighted:!0});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(v.jsxs)("div",{id:"page-room",children:[Object(v.jsx)("header",{children:Object(v.jsxs)("div",{className:"content",children:[Object(v.jsx)("img",{src:f,onClick:function(){return e.push("/")},alt:"letmeask"}),Object(v.jsx)("div",{children:Object(v.jsx)(D,{code:t})})]})}),Object(v.jsxs)("main",{children:[Object(v.jsxs)("div",{className:"room-title",children:[Object(v.jsxs)("h1",{children:["Sala ",a]}),r.length>0&&Object(v.jsxs)("span",{children:[r.length," pergunta(s)"]})]}),Object(v.jsx)("div",{className:"question-list",children:r.map((function(e){return Object(v.jsxs)(I,{content:e.content,author:e.author,isAnswered:e.isAnswered,isHighlighted:e.isHighlighted,children:[!e.isAnswered&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("button",{type:"button",onClick:function(){return function(e){return s.apply(this,arguments)}(e.id)},children:Object(v.jsx)("img",{src:T,alt:"Marcar pergunta como respondida"})}),Object(v.jsx)("button",{type:"button",onClick:function(){return function(e){return o.apply(this,arguments)}(e.id)},children:Object(v.jsx)("img",{src:z,alt:"Dar destaque \xe0 pergunta"})})]}),Object(v.jsx)("button",{type:"button",onClick:function(){return function(e){return i.apply(this,arguments)}(e.id)},children:Object(v.jsx)("img",{src:M,alt:"Remover pergunta"})})]},e.id)}))}),Object(v.jsx)("div",{className:"btn-finisher",children:Object(v.jsx)(k,{isOutlined:!0,onClick:function(){return c.apply(this,arguments)},children:"Encerrar sala"})})]})]})}var B,F=n(28),P=n(53),J=n.n(P),Q=n(57),U=n(40),W=F.d.div(B||(B=Object(U.a)(["\n  background: ",";\n  background-color: rgba(0, 0, 0, 0);\n  width: 80px;\n  height: 40px;\n  position: absolute;\n  top:10px;\n  display: block;\n  padding-left: 10px;\n  margin-left: 4px;\n  border-radius: 40%;\n"])),(function(e){return e.theme.colors.primary})),V=function(e){var t=e.toggleTheme,n=Object(r.useContext)(F.a),a=n.colors,c=n.title;return Object(v.jsx)(W,{children:Object(v.jsx)(J.a,{onChange:t,checked:"dark"===c,checkedIcon:!1,uncheckedIcon:!1,height:10,width:40,handleDiameter:20,offColor:Object(Q.a)(.15,a.code),onColor:a.secundary})})},Z={title:"light",colors:{primary:"#222",secundary:"#D63AF9",aside:"#835afd",background:"#f5f5f5",text:"#333",textarea:"#f5f5f5",code:"#f5f5f5",img:""}},K={title:"dark",colors:{primary:"#333",secundary:"#ea4335",aside:"#333",background:"#222",text:"#fff",textarea:"#333",code:"#333",img:"grayscale(1%) brightness(90%) sepia(1) saturate(20%) invert(5)"}};var X,Y=function(e,t){var n=Object(r.useState)((function(){var n=localStorage.getItem(e);return n?JSON.parse(n):t})),a=Object(s.a)(n,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){localStorage.setItem(e,JSON.stringify(c))}),[e,c]),[c,i]},$=Object(F.c)(X||(X=Object(U.a)(["\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n\n  body {\n    background: ",";\n    font-size: 14px;\n    color: ",";\n    font-family: sans-serif;\n  }\n\n  h1, p {\n    color: ",";\n  }\n\n  #page-auth aside {\n    background:",";\n  }\n\n  #page-auth .main-content p {\n    color: ",";\n  }\n  #page-auth .main-content p a {\n    color: '#ea4335';\n  }\n  #page-room main .room-title h1, .room-code span, .question p {\n    color: ",";\n  }\n  #page-room main form .form-footer .user-info span {\n    color: ",";\n  }\n\n  .room-code span {\n    color: ",";\n  }\n\n  #page-room main form textarea, .room-code, #page-auth .main-content form input, .question {\n    background:",";\n  }\n\n  #page-auth .main-content > img {\n    filter: ",";\n  }\n\n  #page-auth .main-content p a {\n    color: ","\n  }\n\n  #page-room main form textarea, .room-code, #page-auth .main-content form input {\n    color: ",";\n  }\n\n  #page-room header .content > img {\n    filter: ",";\n  }\n"])),(function(e){return e.theme.colors.background}),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.aside}),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.textarea}),(function(e){return e.theme.colors.img}),(function(e){return e.theme.colors.secundary}),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.img})),_=function(){var e=Y("theme",Z),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(v.jsxs)(F.b,{theme:n,children:[Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)($,{}),Object(v.jsx)(V,{toggleTheme:function(){r("light"===n.title?K:Z)}})]}),Object(v.jsx)(o.a,{children:Object(v.jsx)(y,{children:Object(v.jsxs)(u.c,{children:[Object(v.jsx)(u.a,{path:"/",exact:!0,component:N}),Object(v.jsx)(u.a,{path:"/rooms/new",component:q}),Object(v.jsx)(u.a,{path:"/rooms/:id",component:G}),Object(v.jsx)(u.a,{path:"/admin/rooms/:id",component:R})]})})})]})};n(76);i.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(_,{})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.f21a50c5.chunk.js.map